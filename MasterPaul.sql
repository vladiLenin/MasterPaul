--
-- PostgreSQL database dump
--

-- Dumped from database version 15.2
-- Dumped by pg_dump version 15.2

-- Started on 2025-05-31 17:25:25

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- TOC entry 223 (class 1259 OID 68479)
-- Name: parther_products; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.parther_products (
    id integer NOT NULL,
    parther_id integer NOT NULL,
    count integer NOT NULL,
    date_sale date NOT NULL,
    product_id integer NOT NULL
);


ALTER TABLE public.parther_products OWNER TO postgres;

--
-- TOC entry 219 (class 1259 OID 68455)
-- Name: parthers; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.parthers (
    id integer NOT NULL,
    type character varying NOT NULL,
    name character varying NOT NULL,
    director character varying NOT NULL,
    email character varying NOT NULL,
    phone character varying(13) NOT NULL,
    adress text NOT NULL,
    inn character varying(10) NOT NULL,
    rating integer NOT NULL
);


ALTER TABLE public.parthers OWNER TO postgres;

--
-- TOC entry 222 (class 1259 OID 68478)
-- Name: pather_products_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.parther_products ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.pather_products_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 218 (class 1259 OID 68454)
-- Name: pathers_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.parthers ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.pathers_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 221 (class 1259 OID 68471)
-- Name: product; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.product (
    id integer NOT NULL,
    name text NOT NULL,
    articul character varying(7) NOT NULL,
    cost real NOT NULL,
    type_id integer NOT NULL
);


ALTER TABLE public.product OWNER TO postgres;

--
-- TOC entry 220 (class 1259 OID 68470)
-- Name: product_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.product ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.product_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 217 (class 1259 OID 68447)
-- Name: type_material; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.type_material (
    id integer NOT NULL,
    type character varying NOT NULL,
    percent real NOT NULL
);


ALTER TABLE public.type_material OWNER TO postgres;

--
-- TOC entry 216 (class 1259 OID 68446)
-- Name: type_material_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.type_material ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.type_material_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 214 (class 1259 OID 68438)
-- Name: type_product; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.type_product (
    id integer NOT NULL,
    type character varying NOT NULL,
    ratio real NOT NULL
);


ALTER TABLE public.type_product OWNER TO postgres;

--
-- TOC entry 215 (class 1259 OID 68445)
-- Name: type_product_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.type_product ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.type_product_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 3357 (class 0 OID 68479)
-- Dependencies: 223
-- Data for Name: parther_products; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.parther_products (id, parther_id, count, date_sale, product_id) VALUES (14, 5, 670000, '2023-11-10', 4);
INSERT INTO public.parther_products (id, parther_id, count, date_sale, product_id) VALUES (10, 4, 59050, '2023-03-20', 4);
INSERT INTO public.parther_products (id, parther_id, count, date_sale, product_id) VALUES (3, 1, 37400, '2024-06-07', 4);
INSERT INTO public.parther_products (id, parther_id, count, date_sale, product_id) VALUES (13, 5, 50000, '2023-09-19', 3);
INSERT INTO public.parther_products (id, parther_id, count, date_sale, product_id) VALUES (11, 4, 37200, '2024-03-12', 3);
INSERT INTO public.parther_products (id, parther_id, count, date_sale, product_id) VALUES (6, 2, 1000, '2024-06-07', 3);
INSERT INTO public.parther_products (id, parther_id, count, date_sale, product_id) VALUES (2, 1, 12350, '2023-12-18', 3);
INSERT INTO public.parther_products (id, parther_id, count, date_sale, product_id) VALUES (16, 5, 25000, '2024-06-12', 2);
INSERT INTO public.parther_products (id, parther_id, count, date_sale, product_id) VALUES (9, 3, 2500, '2024-07-05', 2);
INSERT INTO public.parther_products (id, parther_id, count, date_sale, product_id) VALUES (4, 2, 35000, '2022-12-02', 2);
INSERT INTO public.parther_products (id, parther_id, count, date_sale, product_id) VALUES (15, 5, 35000, '2024-04-15', 1);
INSERT INTO public.parther_products (id, parther_id, count, date_sale, product_id) VALUES (8, 3, 7250, '2023-01-22', 1);
INSERT INTO public.parther_products (id, parther_id, count, date_sale, product_id) VALUES (7, 2, 7550, '2024-07-01', 1);
INSERT INTO public.parther_products (id, parther_id, count, date_sale, product_id) VALUES (1, 1, 15500, '2023-03-23', 1);
INSERT INTO public.parther_products (id, parther_id, count, date_sale, product_id) VALUES (12, 4, 4500, '2024-05-14', 5);
INSERT INTO public.parther_products (id, parther_id, count, date_sale, product_id) VALUES (5, 2, 1250, '2023-05-17', 5);


--
-- TOC entry 3353 (class 0 OID 68455)
-- Dependencies: 219
-- Data for Name: parthers; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.parthers (id, type, name, director, email, phone, adress, inn, rating) VALUES (1, 'ЗАО', 'База Строитель', 'Иванова Александра Ивановна', 'aleksandraivanova@ml.ru', '493 123 45 67', '652050, Кемеровская область, город Юрга, ул. Лесная, 15', '2222455179', 7);
INSERT INTO public.parthers (id, type, name, director, email, phone, adress, inn, rating) VALUES (2, 'ООО', 'Паркет 29', 'Петров Василий Петрович', 'vppetrov@vl.ru', '987 123 56 78', '164500, Архангельская область, город Северодвинск, ул. Строителей, 18', '3333888520', 7);
INSERT INTO public.parthers (id, type, name, director, email, phone, adress, inn, rating) VALUES (3, 'ПАО', 'Стройсервис', 'Соловьев Андрей Николаевич', 'ansolovev@st.ru', '812 223 32 00', '188910, Ленинградская область, город Приморск, ул. Парковая, 21', '4440391035', 7);
INSERT INTO public.parthers (id, type, name, director, email, phone, adress, inn, rating) VALUES (4, 'ОАО', 'Ремонт и отделка', 'Воробьева Екатерина Валерьевна', 'ekaterina.vorobeva@ml.ru', '444 222 33 11', '143960, Московская область, город Реутов, ул. Свободы, 51', '1111520857', 5);
INSERT INTO public.parthers (id, type, name, director, email, phone, adress, inn, rating) VALUES (5, 'ЗАО', 'МонтажПро', 'Степанов Степан Сергеевич', 'stepanov@stepan.ru', '912 888 33 33', '309500, Белгородская область, город Старый Оскол, ул. Рабочая, 122', '5552431140', 10);


--
-- TOC entry 3355 (class 0 OID 68471)
-- Dependencies: 221
-- Data for Name: product; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.product (id, name, articul, cost, type_id) VALUES (4, 'Ламинат Дуб серый 32 класс 8 мм с фаской', '7028748', 3890.41, 1);
INSERT INTO public.product (id, name, articul, cost, type_id) VALUES (3, 'Ламинат Дуб дымчато-белый 33 класс 12 мм', '7750282', 1799.33, 1);
INSERT INTO public.product (id, name, articul, cost, type_id) VALUES (2, 'Инженерная доска Дуб Французская елка однополосная 12 мм', '8858958', 7330.99, 3);
INSERT INTO public.product (id, name, articul, cost, type_id) VALUES (1, 'Паркетная доска Ясень темный однополосная 14 мм', '8758385', 4456.9, 3);
INSERT INTO public.product (id, name, articul, cost, type_id) VALUES (5, 'Пробковое напольное клеевое покрытие 32 класс 4 мм', '5012543', 5450.59, 4);


--
-- TOC entry 3351 (class 0 OID 68447)
-- Dependencies: 217
-- Data for Name: type_material; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.type_material (id, type, percent) VALUES (1, 'Тип материала 1', 0.1);
INSERT INTO public.type_material (id, type, percent) VALUES (2, 'Тип материала 2', 0.95);
INSERT INTO public.type_material (id, type, percent) VALUES (3, 'Тип материала 3', 0.28);
INSERT INTO public.type_material (id, type, percent) VALUES (4, 'Тип материала 4', 0.55);
INSERT INTO public.type_material (id, type, percent) VALUES (5, 'Тип материала 5', 0.34);


--
-- TOC entry 3348 (class 0 OID 68438)
-- Dependencies: 214
-- Data for Name: type_product; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.type_product (id, type, ratio) VALUES (1, 'Ламинат', 2.35);
INSERT INTO public.type_product (id, type, ratio) VALUES (2, 'Массивная доска', 5.15);
INSERT INTO public.type_product (id, type, ratio) VALUES (3, 'Паркетная доска', 4.34);
INSERT INTO public.type_product (id, type, ratio) VALUES (4, 'Пробковое покрытие', 1.5);


--
-- TOC entry 3363 (class 0 OID 0)
-- Dependencies: 222
-- Name: pather_products_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.pather_products_id_seq', 16, true);


--
-- TOC entry 3364 (class 0 OID 0)
-- Dependencies: 218
-- Name: pathers_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.pathers_id_seq', 5, true);


--
-- TOC entry 3365 (class 0 OID 0)
-- Dependencies: 220
-- Name: product_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.product_id_seq', 5, true);


--
-- TOC entry 3366 (class 0 OID 0)
-- Dependencies: 216
-- Name: type_material_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.type_material_id_seq', 5, true);


--
-- TOC entry 3367 (class 0 OID 0)
-- Dependencies: 215
-- Name: type_product_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.type_product_id_seq', 4, true);


--
-- TOC entry 3202 (class 2606 OID 68485)
-- Name: parther_products pather_products_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.parther_products
    ADD CONSTRAINT pather_products_pkey PRIMARY KEY (id);


--
-- TOC entry 3198 (class 2606 OID 68461)
-- Name: parthers pathers_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.parthers
    ADD CONSTRAINT pathers_pkey PRIMARY KEY (id);


--
-- TOC entry 3200 (class 2606 OID 68477)
-- Name: product product_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.product
    ADD CONSTRAINT product_pkey PRIMARY KEY (id);


--
-- TOC entry 3196 (class 2606 OID 68453)
-- Name: type_material type_material_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.type_material
    ADD CONSTRAINT type_material_pkey PRIMARY KEY (id);


--
-- TOC entry 3194 (class 2606 OID 68444)
-- Name: type_product type_product_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.type_product
    ADD CONSTRAINT type_product_pkey PRIMARY KEY (id);


--
-- TOC entry 3204 (class 2606 OID 68491)
-- Name: parther_products fk_parther_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.parther_products
    ADD CONSTRAINT fk_parther_id FOREIGN KEY (parther_id) REFERENCES public.parthers(id) ON UPDATE CASCADE ON DELETE RESTRICT;


--
-- TOC entry 3205 (class 2606 OID 68496)
-- Name: parther_products fk_product_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.parther_products
    ADD CONSTRAINT fk_product_id FOREIGN KEY (product_id) REFERENCES public.product(id) ON UPDATE CASCADE ON DELETE RESTRICT;


--
-- TOC entry 3203 (class 2606 OID 68486)
-- Name: product fk_type_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.product
    ADD CONSTRAINT fk_type_id FOREIGN KEY (type_id) REFERENCES public.type_product(id) ON UPDATE CASCADE ON DELETE RESTRICT;


-- Completed on 2025-05-31 17:25:25

--
-- PostgreSQL database dump complete
--

